<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Japanese Vocabulary Flashcards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            padding: 40px;
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .progress {
            color: #666;
            font-size: 14px;
        }

        .score {
            color: #28a745;
            font-weight: bold;
            font-size: 14px;
        }

        .card {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            position: relative;
        }

        .japanese-word {
            font-size: 48px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 15px;
            font-family: 'Hiragino Sans', 'Noto Sans JP', sans-serif;
        }

        .romaji-container {
            margin-bottom: 20px;
        }

        .romaji-btn {
            background: #f1f3f4;
            border: 1px solid #ddd;
            border-radius: 20px;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            color: #666;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 5px;
        }

        .romaji-btn:hover {
            background: #e8eaed;
            border-color: #999;
        }

        .romaji {
            font-size: 18px;
            color: #7f8c8d;
            font-style: italic;
            margin-top: 10px;
            opacity: 0;
            transform: translateY(-10px);
            transition: all 0.3s ease;
        }

        .romaji.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            padding: 15px 20px;
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 16px;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            border-color: #667eea;
            background: #f8f9ff;
            transform: translateY(-2px);
        }

        .option.correct {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }

        .option.incorrect {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }

        .option.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .btn-next {
            background: #28a745;
            color: white;
        }

        .btn-next:hover {
            background: #218838;
            transform: translateY(-2px);
        }

        .btn-next:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
        }

        .btn-shuffle {
            background: #ffc107;
            color: #212529;
        }

        .btn-shuffle:hover {
            background: #e0a800;
            transform: translateY(-2px);
        }

        .btn-reset {
            background: #6c757d;
            color: white;
        }

        .btn-reset:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .feedback {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            transition: all 0.3s;
            opacity: 0;
            transform: translateY(-10px);
        }

        .feedback.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .streak {
            position: absolute;
            top: 10px;
            right: 15px;
            background: #ff6b6b;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
        }

        .streak.good {
            background: #51cf66;
        }

        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            .japanese-word {
                font-size: 36px;
            }
            
            .options {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            button {
                width: 100%;
            }
        }

        .eye-icon {
            font-size: 12px;
        }

        .difficulty-indicator {
            position: absolute;
            top: 10px;
            left: 15px;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #28a745;
        }

        .difficulty-indicator.medium {
            background: #ffc107;
        }

        .difficulty-indicator.hard {
            background: #dc3545;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="progress">
                <span id="current">1</span> of <span id="total">0</span>
            </div>
            <div class="score">
                Benar: <span id="correct-count">0</span> | Salah: <span id="incorrect-count">0</span>
            </div>
        </div>
        
        <div class="card">
            <div class="difficulty-indicator" id="difficulty-indicator"></div>
            <div class="streak" id="streak" style="display: none;">üî• 0</div>
            
            <div class="japanese-word" id="japanese-word">Loading...</div>
            
            <div class="romaji-container">
                <button class="romaji-btn" id="romaji-btn">
                    <span class="eye-icon">üëÅÔ∏è</span>
                    Lihat Romaji
                </button>
                <div class="romaji" id="romaji"></div>
            </div>
        </div>
        
        <div class="options" id="options">
            <!-- Options will be generated here -->
        </div>
        
        <div class="controls">
            <button class="btn-next" id="next-btn" disabled>Lanjut</button>
            <button class="btn-shuffle" id="shuffle-btn">Acak</button>
            <button class="btn-reset" id="reset-btn">Reset Skor</button>
        </div>
        
        <div class="feedback" id="feedback"></div>
    </div>

    <script>
        // Vocabulary data dengan level kesulitan
        const vocabulary = [
            // Kata Kerja - Easy
            {japanese: "„Åä„Åç„Åæ„Åô", romaji: "okimasu", meaning: "bangun", difficulty: "easy"},
            {japanese: "„Å≠„Åæ„Åô", romaji: "nemasu", meaning: "tidur", difficulty: "easy"},
            {japanese: "„Åü„Åπ„Åæ„Åô", romaji: "tabemasu", meaning: "makan", difficulty: "easy"},
            {japanese: "„ÅÆ„Åø„Åæ„Åô", romaji: "nomimasu", meaning: "minum", difficulty: "easy"},
            {japanese: "„ÅÑ„Åç„Åæ„Åô", romaji: "ikimasu", meaning: "pergi", difficulty: "easy"},
            {japanese: "„Åç„Åæ„Åô", romaji: "kimasu", meaning: "datang", difficulty: "easy"},
            {japanese: "„Åã„Åà„Çä„Åæ„Åô", romaji: "kaerimasu", meaning: "pulang", difficulty: "easy"},
            {japanese: "„Åø„Åæ„Åô", romaji: "mimasu", meaning: "melihat", difficulty: "easy"},
            {japanese: "„Åç„Åç„Åæ„Åô", romaji: "kikimasu", meaning: "mendengar", difficulty: "easy"},
            {japanese: "„Çà„Åø„Åæ„Åô", romaji: "yomimasu", meaning: "membaca", difficulty: "easy"},
            {japanese: "„Åã„Åç„Åæ„Åô", romaji: "kakimasu", meaning: "menulis", difficulty: "easy"},
            {japanese: "„Åã„ÅÑ„Åæ„Åô", romaji: "kaimasu", meaning: "membeli", difficulty: "easy"},
            
            // Medium difficulty
            {japanese: "„ÅØ„Åò„ÇÅ„Åæ„Åô", romaji: "hajimemasu", meaning: "memulai", difficulty: "medium"},
            {japanese: "„Åä„Çè„Çä„Åæ„Åô", romaji: "owarimasu", meaning: "selesai", difficulty: "medium"},
            {japanese: "„Åå„Çì„Å∞„Çä„Åæ„Åô", romaji: "ganbarimasui", meaning: "bersemangat", difficulty: "medium"},
            {japanese: "„ÅØ„Åü„Çâ„Åç„Åæ„Åô", romaji: "hatarakimasu", meaning: "bekerja", difficulty: "medium"},
            {japanese: "„Åπ„Çì„Åç„Çá„ÅÜ„Åó„Åæ„Åô", romaji: "benkyou shimasu", meaning: "belajar", difficulty: "medium"},
            {japanese: "„ÅÇ„ÅÑ„Åæ„Åô", romaji: "aimasu", meaning: "bertemu", difficulty: "medium"},
            {japanese: "„Çè„Åã„Çä„Åæ„Åô", romaji: "wakarimasu", meaning: "mengerti", difficulty: "medium"},
            {japanese: "„Åì„Åü„Åà„Åæ„Åô", romaji: "kotaemasu", meaning: "menjawab", difficulty: "medium"},
            {japanese: "„ÅÇ„Åí„Åæ„Åô", romaji: "agemasu", meaning: "memberi", difficulty: "medium"},
            {japanese: "„ÇÇ„Çâ„ÅÑ„Åæ„Åô", romaji: "moraimasu", meaning: "menerima", difficulty: "medium"},
            
            // Hard difficulty
            {japanese: "„Åã„Åë„Åæ„Åô", romaji: "kakemasu", meaning: "menggantung", difficulty: "hard"},
            {japanese: "„ÇÑ„Åô„Åø„Çí„Å®„Çä„Åæ„Åô", romaji: "yasumi wo torimasu", meaning: "cuti", difficulty: "hard"},
            {japanese: "„Å§„Å®„ÇÅ„Åæ„Åô", romaji: "tsutomemasu", meaning: "bekerja (formal) / bertugas", difficulty: "hard"},
            {japanese: "„Åç„Çä„Åæ„Åô", romaji: "kirimasu", meaning: "memotong", difficulty: "hard"},
            {japanese: "„Åã„Åó„Åæ„Åô", romaji: "kashimasu", meaning: "meminjamkan", difficulty: "hard"},
            {japanese: "„Åã„Çä„Åæ„Åô", romaji: "karimasu", meaning: "meminjam", difficulty: "hard"},
            {japanese: "„Åä„Åó„Åà„Åæ„Åô", romaji: "oshiemasu", meaning: "belajar (dari orang lain)", difficulty: "hard"},
            {japanese: "„ÅØ„ÅÑ„Çä„Åæ„Åô", romaji: "hairimasu", meaning: "masuk", difficulty: "hard"},
            {japanese: "„Åß„Åæ„Åô", romaji: "demasu", meaning: "keluar", difficulty: "hard"},
            {japanese: "„Åß„Çì„Çè„Çí„Åã„Åë„Åæ„Åô", romaji: "denwa wo kakemasu", meaning: "menelepon", difficulty: "hard"},
            
            // Kata Sifat - Easy
            {japanese: "„Åç„Çå„ÅÑ„Å™", romaji: "kirei na", meaning: "cantik", difficulty: "easy"},
            {japanese: "„Åí„Çì„Åç„Å™", romaji: "genki na", meaning: "sehat", difficulty: "easy"},
            {japanese: "„Åä„Åä„Åç„ÅÑ", romaji: "ookii", meaning: "besar", difficulty: "easy"},
            {japanese: "„Å°„ÅÑ„Åï„ÅÑ", romaji: "chiisai", meaning: "kecil", difficulty: "easy"},
            {japanese: "„Çè„Åã„ÅÑ", romaji: "wakai", meaning: "muda", difficulty: "easy"},
            {japanese: "„ÅÑ„ÅÑ", romaji: "ii", meaning: "bagus", difficulty: "easy"},
            {japanese: "„Çè„Çã„ÅÑ", romaji: "warui", meaning: "jelek", difficulty: "easy"},
            {japanese: "„ÅÇ„Å§„ÅÑ", romaji: "atsui", meaning: "panas", difficulty: "easy"},
            {japanese: "„Åï„ÇÄ„ÅÑ", romaji: "samui", meaning: "dingin (suhu)", difficulty: "easy"},
            {japanese: "„ÅÜ„Çå„Åó„ÅÑ", romaji: "ureshii", meaning: "senang", difficulty: "easy"},
            
            // Medium
            {japanese: "„Åó„Çì„Åõ„Å§„Å™", romaji: "shinsetsu na", meaning: "baik hati", difficulty: "medium"},
            {japanese: "„ÇÜ„ÅÜ„ÇÅ„ÅÑ„Å™", romaji: "yuumei na", meaning: "terkenal", difficulty: "medium"},
            {japanese: "„Å´„Åé„ÇÑ„Åã„Å™", romaji: "nigiyaka na", meaning: "ramai", difficulty: "medium"},
            {japanese: "„Åó„Åö„Åã„Å™", romaji: "shizuka na", meaning: "tenang", difficulty: "medium"},
            {japanese: "„Åü„ÅÆ„Åó„ÅÑ", romaji: "tanoshii", meaning: "menyenangkan", difficulty: "medium"},
            {japanese: "„ÅÑ„Åù„Åå„Åó„ÅÑ", romaji: "isogashii", meaning: "sibuk", difficulty: "medium"},
            {japanese: "„Åü„ÅÑ„Åõ„Å§„Å™", romaji: "taisetsu na", meaning: "penting", difficulty: "medium"},
            {japanese: "„ÇÑ„Åï„Åó„ÅÑ", romaji: "yasashii", meaning: "mudah/ramah", difficulty: "medium"},
            {japanese: "„ÇÄ„Åö„Åã„Åó„ÅÑ", romaji: "muzukashii", meaning: "sulit", difficulty: "medium"},
            
            // Kata Benda - Easy
            {japanese: "„Åó„Åî„Å®", romaji: "shigoto", meaning: "pekerjaan", difficulty: "easy"},
            {japanese: "„Åò„Åã„Çì", romaji: "jikan", meaning: "jam", difficulty: "easy"},
            {japanese: "„Å§„Åè„Åà", romaji: "tsukue", meaning: "meja", difficulty: "easy"},
            {japanese: "„ÅÑ„Åô", romaji: "isu", meaning: "kursi", difficulty: "easy"},
            {japanese: "„Åã„Åï", romaji: "kasa", meaning: "payung", difficulty: "easy"},
            {japanese: "„ÅÜ„Åü", romaji: "uta", meaning: "lagu", difficulty: "easy"},
            {japanese: "„Åä„Çì„Åå„Åè", romaji: "ongaku", meaning: "musik", difficulty: "easy"},
            
            // Medium
            {japanese: "„Å†„ÅÑ„Å©„Åì„Çç", romaji: "daidokoro", meaning: "dapur", difficulty: "medium"},
            {japanese: "„Çà„ÅÜ„Å°„Åà„Çì", romaji: "youchien", meaning: "tk", difficulty: "medium"},
            {japanese: "„Å∞„Çì„Åê„Åø", romaji: "bangumi", meaning: "acara tv", difficulty: "medium"},
            {japanese: "„Åã„Å§„Å©„ÅÜ", romaji: "katsudou", meaning: "aktivitas", difficulty: "medium"},
            {japanese: "„Å©„Åè„Åó„Çá", romaji: "dokusho", meaning: "bacaan", difficulty: "medium"},
        ];

        // Game state
        let currentIndex = 0;
        let isAnswered = false;
        let correctCount = 0;
        let incorrectCount = 0;
        let currentStreak = 0;
        let maxStreak = 0;
        let romajiVisible = false;

        // DOM elements
        const elements = {
            japaneseWord: document.getElementById('japanese-word'),
            romaji: document.getElementById('romaji'),
            romajiBtn: document.getElementById('romaji-btn'),
            options: document.getElementById('options'),
            nextBtn: document.getElementById('next-btn'),
            shuffleBtn: document.getElementById('shuffle-btn'),
            resetBtn: document.getElementById('reset-btn'),
            feedback: document.getElementById('feedback'),
            current: document.getElementById('current'),
            total: document.getElementById('total'),
            correctCountEl: document.getElementById('correct-count'),
            incorrectCountEl: document.getElementById('incorrect-count'),
            streak: document.getElementById('streak'),
            difficultyIndicator: document.getElementById('difficulty-indicator')
        };

        // Initialize app
        function init() {
            elements.total.textContent = vocabulary.length;
            setupEventListeners();
            showCard();
        }

        function setupEventListeners() {
            elements.nextBtn.addEventListener('click', nextCard);
            elements.shuffleBtn.addEventListener('click', shuffleCards);
            elements.resetBtn.addEventListener('click', resetScore);
            elements.romajiBtn.addEventListener('click', toggleRomaji);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.key === ' ' && !isAnswered) {
                    e.preventDefault();
                    toggleRomaji();
                } else if (e.key === 'Enter' && isAnswered) {
                    nextCard();
                } else if (e.key >= '1' && e.key <= '4' && !isAnswered) {
                    const optionIndex = parseInt(e.key) - 1;
                    const optionElements = document.querySelectorAll('.option');
                    if (optionElements[optionIndex]) {
                        optionElements[optionIndex].click();
                    }
                }
            });
        }

        function showCard() {
            const card = vocabulary[currentIndex];
            elements.japaneseWord.textContent = card.japanese;
            elements.romaji.textContent = card.romaji;
            elements.current.textContent = currentIndex + 1;
            
            // Set difficulty indicator
            const indicator = elements.difficultyIndicator;
            indicator.className = `difficulty-indicator ${card.difficulty}`;
            
            // Reset UI state
            hideRomaji();
            elements.feedback.classList.remove('visible');
            elements.nextBtn.disabled = true;
            isAnswered = false;
            
            generateOptions();
            updateScore();
        }

        function generateOptions() {
            const correct = vocabulary[currentIndex].meaning;
            const options = [correct];
            
            // Generate 3 random wrong answers
            while (options.length < 4) {
                const randomCard = vocabulary[Math.floor(Math.random() * vocabulary.length)];
                if (!options.includes(randomCard.meaning)) {
                    options.push(randomCard.meaning);
                }
            }
            
            // Shuffle options
            for (let i = options.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [options[i], options[j]] = [options[j], options[i]];
            }
            
            // Create option elements
            elements.options.innerHTML = '';
            options.forEach((option, index) => {
                const optionEl = document.createElement('div');
                optionEl.className = 'option';
                optionEl.textContent = option;
                optionEl.addEventListener('click', () => selectOption(option, optionEl));
                elements.options.appendChild(optionEl);
            });
        }

        function selectOption(selectedAnswer, optionEl) {
            if (isAnswered) return;
            
            const correctAnswer = vocabulary[currentIndex].meaning;
            const isCorrect = selectedAnswer === correctAnswer;
            
            isAnswered = true;
            
            // Mark all options as disabled
            document.querySelectorAll('.option').forEach(el => {
                el.classList.add('disabled');
                if (el.textContent === correctAnswer) {
                    el.classList.add('correct');
                } else if (el === optionEl && !isCorrect) {
                    el.classList.add('incorrect');
                }
            });
            
            // Update score and streak
            if (isCorrect) {
                correctCount++;
                currentStreak++;
                if (currentStreak > maxStreak) {
                    maxStreak = currentStreak;
                }
                showFeedback(true, `Benar! üéâ`);
            } else {
                incorrectCount++;
                currentStreak = 0;
                showFeedback(false, `Salah. Jawaban yang benar: ${correctAnswer}`);
            }
            
            elements.nextBtn.disabled = false;
            updateScore();
            updateStreak();
        }

        function showFeedback(isCorrect, message) {
            elements.feedback.textContent = message;
            elements.feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'} visible`;
        }

        function toggleRomaji() {
            romajiVisible = !romajiVisible;
            if (romajiVisible) {
                elements.romaji.classList.add('visible');
                elements.romajiBtn.innerHTML = '<span class="eye-icon">üôà</span> Sembunyikan';
            } else {
                hideRomaji();
            }
        }

        function hideRomaji() {
            romajiVisible = false;
            elements.romaji.classList.remove('visible');
            elements.romajiBtn.innerHTML = '<span class="eye-icon">üëÅÔ∏è</span> Lihat Romaji';
        }

        function nextCard() {
            currentIndex = (currentIndex + 1) % vocabulary.length;
            showCard();
        }

        function shuffleCards() {
            for (let i = vocabulary.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [vocabulary[i], vocabulary[j]] = [vocabulary[j], vocabulary[i]];
            }
            currentIndex = 0;
            showCard();
        }

        function resetScore() {
            correctCount = 0;
            incorrectCount = 0;
            currentStreak = 0;
            maxStreak = 0;
            updateScore();
            updateStreak();
        }

        function updateScore() {
            elements.correctCountEl.textContent = correctCount;
            elements.incorrectCountEl.textContent = incorrectCount;
        }

        function updateStreak() {
            if (currentStreak >= 3) {
                elements.streak.style.display = 'block';
                elements.streak.textContent = `üî• ${currentStreak}`;
                elements.streak.className = 'streak good';
            } else if (currentStreak > 0) {
                elements.streak.style.display = 'block';
                elements.streak.textContent = `üî• ${currentStreak}`;
                elements.streak.className = 'streak';
            } else {
                elements.streak.style.display = 'none';
            }
        }

        // Start the app
        init();
    </script>
</body>
</html>